---
import Icons from "./Icons.astro";
import type { Project } from "../data/projects";

const { project } = Astro.props as { project: Project };
---

<article class="rounded-2xl border border-white/10 bg-white/5 p-5 shadow-[0_0_0_1px_rgba(255,255,255,0.02)]">
  {project.image ? (
    <div class="mb-4 overflow-hidden rounded-xl border border-white/10 bg-ink-900/40">
      <img
        src={project.image.src}
        alt={project.image.alt}
        loading="lazy"
        class="h-40 w-full object-cover"
      />
    </div>
  ) : null}

  <div class="flex items-start justify-between gap-4">
    <div>
      <h3 class="text-base font-semibold text-white/90">{project.title}</h3>
      <p class="mt-1 text-sm leading-relaxed text-white/65">{project.description}</p>
    </div>
  </div>

  <div class="mt-4 flex flex-wrap gap-2">
    {project.tags.map((t) => (
      <span class="rounded-full border border-white/10 bg-white/5 px-2.5 py-1 text-xs text-white/70">
        {t}
      </span>
    ))}
  </div>

  <div class="mt-5 flex items-center gap-2">
    {project.href ? (
      <a
        href={project.href}
        class="inline-flex items-center gap-2 rounded-lg border border-white/15 bg-white/5 px-3 py-2 text-sm text-white/85 hover:bg-white/10"
        target={project.href.startsWith("http") ? "_blank" : undefined}
        rel={project.href.startsWith("http") ? "noreferrer" : undefined}
      >
        <span>Live</span>
      </a>
    ) : null}

    {project.repo ? (
      <a
        href={project.repo}
        class="inline-flex items-center gap-2 rounded-lg border border-white/15 bg-white/5 px-3 py-2 text-sm text-white/85 hover:bg-white/10"
        target="_blank"
        rel="noreferrer"
      >
        <Icons name="github" class="h-4 w-4" />
        <span>Code</span>
      </a>
    ) : null}
  </div>
</article>
